import re
fp=open('/home/madhuri/Desktop/test/CFGcreation/cfg.txt','r')
l=fp.readline()
codehash={}
nextblock={}
l=fp.readline()
recentnode=''
while(l):
	m=re.search('\[[a-z0-9]+[:][a-z0-9]+\]',str(l))
	e=re.search('\[[\-][\-][\>][ ][a-z0-9]+\]',str(l))
	s=''	
	if m:
		s=l[1:l.index(':')]
		codehash[s]=[]
		prevnode=s
				
	elif e is None:
		codehash[prevnode].append(l[:len(l)-1])		
	else:
		nextblock[prevnode]=l[l.index('>')+2:l.index(']')]
		codehash[prevnode].pop()
	l=fp.readline()
print codehash
print nextblock
